### Evaluating MM-PCQA

MM-PCQA is a promising hybrid method for PCQA and I want to see that it can accurately score point clouds from the ROADVIEW project.

So what I did was to use 100 point clouds from the first timestamped (`dgt_2025-01-08-14-37-21_0_s0`) data I found on `S3`. I chose point clouds that were in the `RTB_Lidar_All` folder. To avoid any differences due to randomness, I set `alpha`, the attenuation coefficient, to be equal to `0.01`. Usually it is randomly selected from `[0.0, 0.005, 0.01, 0.02, 0.03, 0.06]`. The reason I did this was to get deterministic results across different severity types. I chose the standard severity types in Robo3D, i.e. `light`, `moderate`, and `heavy`. This meant that I in total generated `597*3` point clouds.

Generating point clouds wasn't a problem. It actually went pretty fast to generate them all. I struggled more with running MM-PCQA on each of the point clouds. The main issue here stemmed from the fact that I ran MM-PCQA on a remote server without a display. This caused issues with Open3D. Fortunately, I could solve these issues by installing Xvfb which runs the graphical output in a virtual frame buffer. To get this working I installed it via `sudo apt-get install xvfb` and then running the commands `Xvfb :99 -screen 0 1024x768x16 &` and `export DISPLAY=:99`.

Having solved this issue, I ran MM-PCQA on all of the distorted point clouds and grouped the scores according to the following format:

```
{
    000001.ply: ["light": light_score, "moderate": moderate_score, "heavy": heavy_score]
}
```

and checked for which point clouds the scores were monotonically increasing/decreasing. A monotonic increasing score would mean `light_score <= moderate_score <= heavy_score` while a monotonically decreasing score would mean `light_score >= moderate_score >= heavy_score`. This basically checks that MM-PCQA is able to rank the quality of the point clouds correctly.

If the scores were random numbers, you would expect that `1/3` of score triplets to fulfill this criteria. This is because it's possible to order three numbers in `3! = 6` ways:

```
light_score <= moderate_score <= heavy_score
light_score <= heavy_score <= moderate_score
moderate_score <= light_score <= heavy_score
moderate_score <= heavy_score <= light_score
heavy_score <= light_score <= moderate_score
heavy_score <= moderate_score <= light_score
```

and two of these fulfill the criteria:

```
light_score <= moderate_score <= heavy_score
heavy_score <= moderate_score <= light_score
```

so you get a `2/6 = 1/3` chance of randomly getting a monotonically increasing/decreasing score (I double-checked this fact experimentally by randomly generating three numbers 10000000 times and seeing what percentage of them were monotonically increasing/decreasing. It turned out to be 34.31%).

Thus, for the MM-PCQA to be better than random. It should score rank triplets correctly more than `1/3` of the time.

Unfortunately, this does not seem to be the case. When running the code on 100 triplets of point clouds, MM-PCQA was only able to rank the 28 of them correctly. This suggests that MM-PCQA scores our point clouds no better than random. Here's the results of all triplets:

```
Not monotonic: [-44.2847785949707, -29.61798858642578, -37.421142578125]
Monotonic: [-44.32738494873047, -28.79503631591797, -27.44167709350586]
Not monotonic: [-48.28372573852539, -34.75874710083008, -36.0844841003418]
Not monotonic: [-47.567359924316406, -30.687541961669922, -31.642620086669922]
Monotonic: [-36.96043014526367, -38.384979248046875, -40.717674255371094]
Not monotonic: [-40.79624938964844, -29.734413146972656, -36.51636505126953]
Monotonic: [-27.12902069091797, -28.04205322265625, -35.24847412109375]
Monotonic: [-38.222511291503906, -31.244529724121094, -30.381990432739258]
Not monotonic: [-50.738704681396484, -21.821962356567383, -31.550045013427734]
Not monotonic: [-39.890281677246094, -36.543212890625, -40.29963684082031]
Monotonic: [-45.926185607910156, -36.22949981689453, -30.673118591308594]
Not monotonic: [-42.165000915527344, -27.946414947509766, -33.399349212646484]
Monotonic: [-34.052547454833984, -30.014677047729492, -29.325767517089844]
Not monotonic: [-36.904842376708984, -41.53170394897461, -26.336265563964844]
Not monotonic: [-47.727718353271484, -27.921142578125, -43.78557586669922]
Not monotonic: [-44.87725067138672, -25.2880916595459, -27.303390502929688]
Not monotonic: [-47.7884521484375, -27.82183837890625, -38.58802032470703]
Not monotonic: [-46.59922790527344, -28.70770263671875, -34.185211181640625]
Monotonic: [-46.12433624267578, -30.112253189086914, -29.385334014892578]
Not monotonic: [-42.77405548095703, -27.14480209350586, -27.85605812072754]
Monotonic: [-47.28485870361328, -30.012317657470703, -25.179405212402344]
Not monotonic: [-33.975807189941406, -25.236644744873047, -29.02090835571289]
Monotonic: [-46.95005416870117, -36.00865173339844, -32.96868896484375]
Not monotonic: [-47.57596969604492, -25.67552375793457, -37.752994537353516]
Not monotonic: [-41.472373962402344, -28.23113441467285, -40.07807159423828]
Monotonic: [-40.91581726074219, -31.840543746948242, -31.4971866607666]
Not monotonic: [-39.418846130371094, -26.49617576599121, -32.958335876464844]
Not monotonic: [-45.06920623779297, -22.604736328125, -33.248207092285156]
Not monotonic: [-42.552433013916016, -32.85890579223633, -40.816307067871094]
Not monotonic: [-44.06231689453125, -29.232566833496094, -33.38092803955078]
Monotonic: [-44.77020263671875, -33.14955520629883, -32.850608825683594]
Not monotonic: [-44.91643524169922, -31.433311462402344, -38.7208251953125]
Monotonic: [-37.76659393310547, -28.09973907470703, -27.731563568115234]
Not monotonic: [-42.15484619140625, -28.306142807006836, -36.911277770996094]
Not monotonic: [-51.10682678222656, -20.564228057861328, -29.150957107543945]
Not monotonic: [-51.70335388183594, -25.762371063232422, -40.74645233154297]
Monotonic: [-43.170989990234375, -36.86734390258789, -32.665191650390625]
Not monotonic: [-42.28272247314453, -27.38892364501953, -33.63311004638672]
Not monotonic: [-44.26005554199219, -28.255695343017578, -32.85811233520508]
Monotonic: [-48.07217788696289, -34.01348114013672, -31.98773956298828]
Not monotonic: [-40.544105529785156, -30.158554077148438, -30.958620071411133]
Not monotonic: [-47.73685836791992, -22.45861053466797, -36.493064880371094]
Not monotonic: [-44.45524215698242, -30.368602752685547, -45.48307418823242]
Not monotonic: [-38.81193161010742, -26.23371696472168, -40.71829605102539]
Not monotonic: [-50.68659210205078, -29.466772079467773, -30.87691879272461]
Monotonic: [-43.44892120361328, -30.647449493408203, -28.437854766845703]
Not monotonic: [-38.0972900390625, -31.962326049804688, -39.26084899902344]
Monotonic: [-43.60712432861328, -32.391990661621094, -32.377723693847656]
Not monotonic: [-46.12733459472656, -26.03404426574707, -36.99238586425781]
Not monotonic: [-44.753578186035156, -28.654626846313477, -33.642696380615234]
Monotonic: [-42.41850280761719, -34.186256408691406, -27.669391632080078]
Not monotonic: [-50.649627685546875, -27.30924415588379, -31.228294372558594]
Not monotonic: [-45.66783905029297, -26.63948631286621, -28.05093002319336]
Not monotonic: [-42.892879486083984, -30.023578643798828, -33.80062484741211]
Not monotonic: [-35.504981994628906, -31.87099266052246, -39.2438850402832]
Not monotonic: [-42.730552673339844, -31.53240203857422, -36.27800369262695]
Monotonic: [-48.47954177856445, -34.42000961303711, -34.186485290527344]
Not monotonic: [-44.52274703979492, -21.625675201416016, -25.923107147216797]
Monotonic: [-41.20362091064453, -36.14586639404297, -28.428064346313477]
Not monotonic: [-49.529449462890625, -25.977859497070312, -35.754608154296875]
Not monotonic: [-48.65907287597656, -21.396121978759766, -35.91656494140625]
Monotonic: [-42.43012237548828, -40.579837799072266, -33.945045471191406]
Not monotonic: [-34.62226104736328, -37.72528076171875, -30.904151916503906]
Not monotonic: [-48.56949234008789, -29.365028381347656, -51.23716735839844]
Not monotonic: [-48.54120635986328, -22.39336585998535, -32.03584289550781]
Not monotonic: [-50.08095169067383, -27.489763259887695, -28.993188858032227]
Monotonic: [-37.17169952392578, -31.861377716064453, -25.014474868774414]
Not monotonic: [-37.2674446105957, -32.2015495300293, -45.60203170776367]
Not monotonic: [-44.66917419433594, -32.00120544433594, -33.11921691894531]
Not monotonic: [-45.68647766113281, -27.070493698120117, -31.52902603149414]
Not monotonic: [-51.88697052001953, -24.793190002441406, -27.30344009399414]
Monotonic: [-54.560791015625, -30.215845108032227, -29.010282516479492]
Not monotonic: [-45.61766815185547, -19.175586700439453, -34.220516204833984]
Monotonic: [-56.590545654296875, -29.004915237426758, -26.7274227142334]
Not monotonic: [-47.333213806152344, -20.272544860839844, -36.391212463378906]
Not monotonic: [-43.75865173339844, -29.38170623779297, -37.91486358642578]
Not monotonic: [-42.58683395385742, -27.02223777770996, -43.69329833984375]
Monotonic: [-44.723812103271484, -28.78249740600586, -23.69627571105957]
Not monotonic: [-47.735164642333984, -29.79155921936035, -38.18183898925781]
Not monotonic: [-53.49309158325195, -30.055789947509766, -31.80684471130371]
Not monotonic: [-46.8117561340332, -32.08607482910156, -36.55967712402344]
Not monotonic: [-42.79292297363281, -26.934959411621094, -34.24810791015625]
Monotonic: [-44.5540885925293, -40.39440155029297, -37.28749465942383]
Not monotonic: [-43.80440139770508, -28.641159057617188, -40.558380126953125]
Not monotonic: [-42.072296142578125, -20.214019775390625, -32.318084716796875]
Monotonic: [-43.85655975341797, -33.19239044189453, -27.3338623046875]
Not monotonic: [-50.46668243408203, -26.366798400878906, -36.45465850830078]
Not monotonic: [-49.78446960449219, -28.491222381591797, -45.02925109863281]
Not monotonic: [-47.11884689331055, -27.43231964111328, -30.26906967163086]
Not monotonic: [-40.07082748413086, -21.71617317199707, -27.823217391967773]
Not monotonic: [-42.23802185058594, -25.907005310058594, -34.141197204589844]
Not monotonic: [-41.79075622558594, -32.049293518066406, -35.652069091796875]
Not monotonic: [-51.866668701171875, -28.713342666625977, -38.677001953125]
Monotonic: [-46.936737060546875, -30.486480712890625, -28.438426971435547]
Not monotonic: [-48.92638397216797, -29.63914680480957, -30.074649810791016]
Monotonic: [-39.69682693481445, -27.27814483642578, -26.672115325927734]
Not monotonic: [-39.95619201660156, -26.58743667602539, -32.25422668457031]
Not monotonic: [-38.7056884765625, -27.918201446533203, -32.351078033447266]
Not monotonic: [-50.157291412353516, -33.07451629638672, -35.41982650756836]
Not monotonic: [-45.65106201171875, -25.67388916015625, -29.58651351928711]
Number of monotonic: 28
In total: 100
```
